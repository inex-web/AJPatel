webpackJsonp([0],{89:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"Component",function(){return r});var a=n(97),r=a.a},92:function(e,t){e.exports="object"==typeof self?self.FormData:window.FormData},93:function(e,t,n){"use strict";function a(e){return fetch(p+"login",{headers:d,method:c,body:e})}function r(e){return fetch(p+"admin_view",{headers:d,method:c,body:e})}function i(e){return fetch(p+"admin_edit",{headers:d,method:c,body:e})}function o(e){return fetch(p+"party_list",{headers:d,method:c,body:e})}function l(e){return fetch(p+"party_view",{headers:d,method:c,body:e})}function s(e){return fetch(p+"party_edit",{headers:d,method:c,body:e})}t.c=a,t.b=r,t.a=i,t.e=o,t.f=l,t.d=s;var u=n(34),c=(n.n(u),"POST"),p="http://localhost/ajpatel/ajpatel-rest/api/",d={"Access-Control-Allow-Origin":"*"}},97:function(e,t,n){"use strict";function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=n(0),s=n.n(l),u=n(93),c=n(98),p=n(99),d=n(33),y=n(32),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={component:"list",data:"",isLoading:!1,errorMessage:""},n.changeComponent=n.changeComponent.bind(n),n.updateState=n.updateState.bind(n),n.getPartyView=n.getPartyView.bind(n),n}return o(t,e),f(t,[{key:"changeComponent",value:function(e,t){this.setState({component:e}),"view"===e&&(this.setState({isLoading:!0}),this.getPartyView(t))}},{key:"updateState",value:function(e,t){this.setState(a({},e,t))}},{key:"getPartyView",value:function(e){var t=this;if(Object(y.b)(d.z)){var a=n(92),r=new a;r.append(d.i,Object(y.b)(d.z)),r.append(d.q,e);var i=void 0;Object(u.f)(r).then(function(e){return i=e.status,e.text()}).then(function(e){if(t.setState({isLoading:!1}),200===i){var n=JSON.parse(e);"TRUE"===n.SUCCESS?t.setState({data:n.DATA[0]}):t.setState({errorMessage:n.MESSAGE})}else t.setState({errorMessage:"Something went wrong trying to get data."}),console.log("Response Status : ",i)}).catch(function(e){t.setState({isLoading:!1}),t.setState({errorMessage:"Something went wrong parsing data."}),console.log("Parsing Failed : ",e)})}else t.setState({isLoading:!1}),t.setState({errorMessage:"Login Token is missing."})}},{key:"render",value:function(){var e=this.state,t=e.component,n=e.data,a=e.isLoading,r=e.errorMessage;return s.a.createElement("div",null,"list"===t?s.a.createElement(c.a,{changeComponent:this.changeComponent}):s.a.createElement(p.a,{changeComponent:this.changeComponent,updateState:this.updateState,getPartyView:this.getPartyView,data:n,isLoading:a,errorMessage:r}))}}]),t}(l.Component);t.a=h},98:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(0),l=n.n(o),s=n(93),u=n(32),c=n(33),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),d=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={data:"",keyword:"",isLoading:!1,errorMessage:""},n.getPartydata=n.getPartydata.bind(n),n}return i(t,e),p(t,[{key:"componentDidMount",value:function(){this.setState({isLoading:!0}),this.getPartydata()}},{key:"getPartydata",value:function(){var e=this;if(Object(u.b)(c.z)){var t=n(92),a=new t;a.append(c.i,Object(u.b)(c.z)),a.append(c.f,this.state.keyword);var r=void 0;Object(s.e)(a).then(function(e){return r=e.status,e.text()}).then(function(t){if(e.setState({isLoading:!1}),200===r){var n=JSON.parse(t);"TRUE"===n.SUCCESS?e.setState({data:n.DATA.sort(function(e,t){return e.party_id>t.party_id})}):e.setState({errorMessage:n.MESSAGE})}else e.setState({errorMessage:"Something went wrong trying to get data."}),console.log("Response Status : ",r)}).catch(function(t){e.setState({isLoading:!1}),e.setState({errorMessage:"Something went wrong parsing data."}),console.log("Parsing Failed : ",t)})}else e.setState({isLoading:!1}),e.setState({errorMessage:"Login Token is missing."})}},{key:"tableBody",value:function(e){var t=this;if(e&&e.length>0){return e.map(function(e,n){return l.a.createElement("tr",{key:n},l.a.createElement("td",null,e.party_id),l.a.createElement("td",null,e.party_name),l.a.createElement("td",null,e.party_contact_person),l.a.createElement("td",null,e.party_mobile),l.a.createElement("td",null,l.a.createElement("button",{onClick:function(){return t.props.changeComponent("view",e.party_id)}},"View")))})}}},{key:"render",value:function(){var e=this.state,t=e.data,n=e.isLoading,a=e.errorMessage,r=this.tableBody(t);return l.a.createElement("div",null,n?l.a.createElement("p",null,"Loading... Please wait."):"",l.a.createElement("p",null,a),l.a.createElement("div",null,l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"ID"),l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Contact Person"),l.a.createElement("th",null,"Mobile"),l.a.createElement("th",null,"Action"))),l.a.createElement("tbody",null,r)),!t||!t.length>0?l.a.createElement("div",null,"Nothing to display."):""))}}]),t}(o.Component);t.a=d},99:function(e,t,n){"use strict";function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=n(0),s=n.n(l),u=n(93),c=n(32),p=n(33),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),y=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={editedData:"",isEditable:!1,isError:!1},n.onEditClick=n.onEditClick.bind(n),n.handleInputChange=n.handleInputChange.bind(n),n.onCancleClick=n.onCancleClick.bind(n),n.onSaveClick=n.onSaveClick.bind(n),n.savePartyData=n.savePartyData.bind(n),n}return o(t,e),d(t,[{key:"handleInputChange",value:function(e){var t=e.target,n=t.value,r=t.name;this.setState({editedData:Object.assign({},this.state.editedData,a({},r,n))})}},{key:"onEditClick",value:function(){this.setState({editedData:this.props.data}),this.setState({isEditable:!0})}},{key:"onCancleClick",value:function(){this.setState({editedData:""}),this.setState({isEditable:!1})}},{key:"onSaveClick",value:function(e){e.party_name&&e.party_contact_person&&e.party_gstin&&e.party_pan_no&&e.party_mobile&&e.party_address&&e.party_city&&e.party_state&&e.party_pincode?(this.props.updateState("isLoading",!0),this.savePartyData(e)):this.setState({isError:!0})}},{key:"savePartyData",value:function(e){var t=this,a=n(92),r=new a;r.append(p.i,Object(c.b)(p.z)),r.append(p.q,e.party_id),r.append(p.s,e.party_name),r.append(p.r,e.party_mobile),r.append(p.o,e.party_contact_person),r.append(p.m,e.party_address),r.append(p.n,e.party_city),r.append(p.v,e.party_state),r.append(p.u,e.party_pincode),r.append(p.p,e.party_gstin),r.append(p.t,e.party_pan_no);var i=void 0;Object(u.d)(r).then(function(e){return i=e.status,e.text()}).then(function(n){if(t.props.updateState("isLoading",!1),200===i){var a=JSON.parse(n);"TRUE"===a.SUCCESS?(t.setState({isEditable:!1}),t.props.getPartyView(e.party_id)):t.props.updateState("errorMessage",a.MESSAGE)}else t.props.updateState("errorMessage","Something went wrong trying to get data."),console.log("Response Status : ",i)}).catch(function(e){t.props.updateState("isLoading",!1),t.props.updateState("errorMessage","Something went wrong parsing data."),console.log("Parsing Failed : ",e)})}},{key:"render",value:function(){var e=this,t=this.props,n=t.data,a=t.isLoading,r=t.errorMessage,i=this.state,o=i.editedData,l=i.isEditable,u=i.isError;return s.a.createElement("div",null,a?s.a.createElement("p",null,"Loading... Please wait."):"",r||l||a?"":s.a.createElement("button",{onClick:function(){return e.onEditClick()}},"Edit"),s.a.createElement("p",null,r),l?s.a.createElement("div",null,s.a.createElement("p",null,n.party_id)):s.a.createElement("div",null,a?"":s.a.createElement("p",null,n.party_id)),l?s.a.createElement("div",null,s.a.createElement("input",{name:"party_name",type:"text",value:o.party_name,onChange:function(t){return e.handleInputChange(t)}}),u&&!o.party_name?"This field is required.":""):s.a.createElement("div",null,a?"":s.a.createElement("p",null,n.party_name)),l?s.a.createElement("div",null,s.a.createElement("input",{name:"party_contact_person",type:"text",value:o.party_contact_person,onChange:function(t){return e.handleInputChange(t)}}),u&&!o.party_contact_person?"This field is required.":""):s.a.createElement("div",null,a?"":s.a.createElement("p",null,n.party_contact_person)),l?s.a.createElement("div",null,s.a.createElement("input",{name:"party_gstin",type:"text",value:o.party_gstin,onChange:function(t){return e.handleInputChange(t)}}),u&&!o.party_gstin?"This field is required.":""):s.a.createElement("div",null,a?"":s.a.createElement("p",null,n.party_gstin)),l?s.a.createElement("div",null,s.a.createElement("input",{name:"party_pan_no",type:"text",value:o.party_pan_no,onChange:function(t){return e.handleInputChange(t)}}),u&&!o.party_pan_no?"This field is required.":""):s.a.createElement("div",null,a?"":s.a.createElement("p",null,n.party_pan_no)),l?s.a.createElement("div",null,s.a.createElement("input",{name:"party_mobile",type:"text",value:o.party_mobile,onChange:function(t){return e.handleInputChange(t)}}),u&&!o.party_mobile?"This field is required.":""):s.a.createElement("div",null,a?"":s.a.createElement("p",null,n.party_mobile)),l?s.a.createElement("div",null,s.a.createElement("input",{name:"party_address",type:"text",value:o.party_address,onChange:function(t){return e.handleInputChange(t)}}),u&&!o.party_address?"This field is required.":""):s.a.createElement("div",null,a?"":s.a.createElement("p",null,n.party_address)),l?s.a.createElement("div",null,s.a.createElement("input",{name:"party_city",type:"text",value:o.party_city,onChange:function(t){return e.handleInputChange(t)}}),u&&!o.party_city?"This field is required.":""):s.a.createElement("div",null,a?"":s.a.createElement("p",null,n.party_city)),l?s.a.createElement("div",null,s.a.createElement("input",{name:"party_state",type:"text",value:o.party_state,onChange:function(t){return e.handleInputChange(t)}}),u&&!o.party_state?"This field is required.":""):s.a.createElement("div",null,a?"":s.a.createElement("p",null,n.party_state)),l?s.a.createElement("div",null,s.a.createElement("input",{name:"party_pincode",type:"text",value:o.party_pincode,onChange:function(t){return e.handleInputChange(t)}}),u&&!o.party_pincode?"This field is required.":""):s.a.createElement("div",null,a?"":s.a.createElement("p",null,n.party_pincode)),l?s.a.createElement("div",null,s.a.createElement("button",{onClick:function(){return e.onCancleClick()}},"Cancle"),s.a.createElement("button",{onClick:function(){return e.onSaveClick(o)}},"Save")):"")}}]),t}(l.Component);t.a=y}});
//# sourceMappingURL=0.613b5849.chunk.js.map