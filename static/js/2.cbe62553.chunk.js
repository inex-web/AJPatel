webpackJsonp([2],{86:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"Component",function(){return a});var r=n(94),a=r.a},92:function(e,t){e.exports="object"==typeof self?self.FormData:window.FormData},93:function(e,t,n){"use strict";function r(e){return fetch(f+"login",{headers:d,method:l,body:e})}function a(e){return fetch(f+"admin_view",{headers:d,method:l,body:e})}function o(e){return fetch(f+"admin_edit",{headers:d,method:l,body:e})}function i(e){return fetch(f+"party_list",{headers:d,method:l,body:e})}function s(e){return fetch(f+"party_view",{headers:d,method:l,body:e})}function c(e){return fetch(f+"party_edit",{headers:d,method:l,body:e})}t.c=r,t.b=a,t.a=o,t.e=i,t.f=s,t.d=c;var u=n(34),l=(n.n(u),"POST"),f="http://localhost/ajpatel/ajpatel-rest/api/",d={"Access-Control-Allow-Origin":"*"}},94:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(0),c=n.n(s),u=n(93),l=n(32),f=n(33),d=n(16),h=n(35),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}([""],[""]),g=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={idOrNumber:"",password:"",errorMessage:"",redirect:!1,isInputUpdating:!1},n.onLoginClick=n.onLoginClick.bind(n),n.handleInputChange=n.handleInputChange.bind(n),n.clearState=n.clearState.bind(n),n}return i(t,e),p(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.clearState()},50),Object(l.b)(f.z)?this.setState({redirect:!0}):Object(l.a)()}},{key:"clearState",value:function(){this.setState({idOrNumber:""}),this.setState({password:""}),this.setState({errorMessage:""}),this.setState({redirect:!1})}},{key:"handleInputChange",value:function(e){var t=e.target,n=t.value,a=t.name;this.setState(r({},a,n)),this.setState({errorMessage:""})}},{key:"onLoginClick",value:function(e,t){var r=this;if(this.setState({errorMessage:""}),e&&t){var a=n(92),o=new a;o.append(f.g,e),o.append(f.h,t);var i=void 0;Object(u.c)(o).then(function(e){return i=e.status,e.text()}).then(function(e){if(200===i){var t=JSON.parse(e);if("TRUE"===t.SUCCESS){var n=t.user_data[0];Object(l.c)(f.z,n[f.z]),Object(l.c)(f.A,n[f.A]),r.setState({redirect:!0})}else r.setState({errorMessage:t.MESSAGE})}else r.setState({errorMessage:"Something went wrong trying to get data."}),console.log("Response Status : ",i)}).catch(function(e){r.setState({errorMessage:"Something went wrong parsing data."}),console.log("Parsing Failed : ",e)})}else r.setState({errorMessage:"Fields are required."})}},{key:"render",value:function(){var e=this,t=this.state,n=t.idOrNumber,r=t.password,a=t.errorMessage;return t.redirect?c.a.createElement(h.a,{to:Object(d.a)(b)}):c.a.createElement("div",null,a,c.a.createElement("input",{name:"idOrNumber",type:"text",value:n,onChange:function(t){return e.handleInputChange(t)}}),c.a.createElement("input",{name:"password",type:"password",value:r,onChange:function(t){return e.handleInputChange(t)}}),c.a.createElement("button",{onClick:function(){return e.onLoginClick(n,r)}},"Login"))}}]),t}(s.Component);t.a=g}});
//# sourceMappingURL=2.cbe62553.chunk.js.map