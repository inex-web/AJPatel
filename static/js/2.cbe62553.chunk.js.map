{"version":3,"sources":["../static/js/2.cbe62553.chunk.js","modules/login/index.js","../node_modules/form-data/lib/browser.js","rest/Rest.js","modules/login/components/Login.js"],"names":["webpackJsonp","86","module","__webpack_exports__","__webpack_require__","Object","defineProperty","value","d","Component","__WEBPACK_IMPORTED_MODULE_0__components_Login__","92","exports","self","FormData","window","93","login","formData","fetch","restPrefix","headers","restHeaders","method","methodPOST","body","adminView","adminEdit","partyList","partyView","partyEdit","__WEBPACK_IMPORTED_MODULE_0_whatwg_fetch__","n","Access-Control-Allow-Origin","94","_defineProperty","obj","key","enumerable","configurable","writable","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","call","ReferenceError","_inherits","subClass","superClass","prototype","create","constructor","setPrototypeOf","__proto__","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_0_react___default","__WEBPACK_IMPORTED_MODULE_1__rest_Rest__","__WEBPACK_IMPORTED_MODULE_2__commons_utils_Utils__","__WEBPACK_IMPORTED_MODULE_3__commons_constants_Constants__","__WEBPACK_IMPORTED_MODULE_4__commons_utils_basePath__","__WEBPACK_IMPORTED_MODULE_5_react_router__","_createClass","defineProperties","target","props","i","length","descriptor","protoProps","staticProps","_templateObject","strings","raw","freeze","Login","_Component","this","_this","getPrototypeOf","state","idOrNumber","password","errorMessage","redirect","isInputUpdating","onLoginClick","bind","handleInputChange","clearState","_this2","setTimeout","setState","event","name","form","append","responseStatus","then","response","status","text","responseObj","JSON","parse","SUCCESS","userData","user_data","MESSAGE","console","log","catch","ex","_this3","_state","a","createElement","to","type","onChange","onClick"],"mappings":"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","file":"static/js/2.cbe62553.chunk.js","sourcesContent":["webpackJsonp([2],{\n\n/***/ 86:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Component\", function() { return Component; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_Login__ = __webpack_require__(94);\nvar Component=__WEBPACK_IMPORTED_MODULE_0__components_Login__[\"a\" /* default */];\n\n/***/ }),\n\n/***/ 92:\n/***/ (function(module, exports) {\n\n/* eslint-env browser */\nmodule.exports = typeof self == 'object' ? self.FormData : window.FormData;\n\n\n/***/ }),\n\n/***/ 93:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = login;\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = adminView;\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = adminEdit;\n/* harmony export (immutable) */ __webpack_exports__[\"e\"] = partyList;\n/* harmony export (immutable) */ __webpack_exports__[\"f\"] = partyView;\n/* harmony export (immutable) */ __webpack_exports__[\"d\"] = partyEdit;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_whatwg_fetch__ = __webpack_require__(34);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_whatwg_fetch___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_whatwg_fetch__);\nvar methodPOST=\"POST\";var restPrefix='http://localhost/ajpatel/ajpatel-rest/api/';var restHeaders={'Access-Control-Allow-Origin':'*'};function login(formData){return fetch(restPrefix+'login',{headers:restHeaders,method:methodPOST,body:formData});}function adminView(formData){return fetch(restPrefix+'admin_view',{headers:restHeaders,method:methodPOST,body:formData});}function adminEdit(formData){return fetch(restPrefix+'admin_edit',{headers:restHeaders,method:methodPOST,body:formData});}function partyList(formData){return fetch(restPrefix+'party_list',{headers:restHeaders,method:methodPOST,body:formData});}function partyView(formData){return fetch(restPrefix+'party_view',{headers:restHeaders,method:methodPOST,body:formData});}function partyEdit(formData){return fetch(restPrefix+'party_edit',{headers:restHeaders,method:methodPOST,body:formData});}\n\n/***/ }),\n\n/***/ 94:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__rest_Rest__ = __webpack_require__(93);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__commons_utils_Utils__ = __webpack_require__(32);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__commons_constants_Constants__ = __webpack_require__(33);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__commons_utils_basePath__ = __webpack_require__(16);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_react_router__ = __webpack_require__(35);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _templateObject=_taggedTemplateLiteral([''],['']);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}));}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Login=function(_Component){_inherits(Login,_Component);function Login(props){_classCallCheck(this,Login);var _this=_possibleConstructorReturn(this,(Login.__proto__||Object.getPrototypeOf(Login)).call(this,props));_this.state={idOrNumber:'',password:'',errorMessage:'',redirect:false,isInputUpdating:false};_this.onLoginClick=_this.onLoginClick.bind(_this);_this.handleInputChange=_this.handleInputChange.bind(_this);_this.clearState=_this.clearState.bind(_this);return _this;}_createClass(Login,[{key:'componentDidMount',value:function componentDidMount(){var _this2=this;setTimeout(function(){_this2.clearState();},50);if(Object(__WEBPACK_IMPORTED_MODULE_2__commons_utils_Utils__[\"b\" /* getSessionStorage */])(__WEBPACK_IMPORTED_MODULE_3__commons_constants_Constants__[\"z\" /* userLoginToken */])){this.setState({redirect:true});}else{Object(__WEBPACK_IMPORTED_MODULE_2__commons_utils_Utils__[\"a\" /* clearSessionStorage */])();}}},{key:'clearState',value:function clearState(){this.setState({idOrNumber:''});this.setState({password:''});this.setState({errorMessage:''});this.setState({redirect:false});}},{key:'handleInputChange',value:function handleInputChange(event){var target=event.target;var value=target.value;var name=target.name;this.setState(_defineProperty({},name,value));this.setState({errorMessage:''});}},{key:'onLoginClick',value:function onLoginClick(idOrNumber,password){var self=this;this.setState({errorMessage:''});if(idOrNumber&&password){var FormData=__webpack_require__(92);var form=new FormData();form.append(__WEBPACK_IMPORTED_MODULE_3__commons_constants_Constants__[\"g\" /* loginEmailMob */],idOrNumber);form.append(__WEBPACK_IMPORTED_MODULE_3__commons_constants_Constants__[\"h\" /* loginPassword */],password);var responseStatus=void 0;Object(__WEBPACK_IMPORTED_MODULE_1__rest_Rest__[\"c\" /* login */])(form).then(function(response){responseStatus=response.status;return response.text();}).then(function(response){if(responseStatus===200){var responseObj=JSON.parse(response);if(responseObj.SUCCESS===\"TRUE\"){var userData=responseObj.user_data[0];Object(__WEBPACK_IMPORTED_MODULE_2__commons_utils_Utils__[\"c\" /* setSessionStorage */])(__WEBPACK_IMPORTED_MODULE_3__commons_constants_Constants__[\"z\" /* userLoginToken */],userData[__WEBPACK_IMPORTED_MODULE_3__commons_constants_Constants__[\"z\" /* userLoginToken */]]);Object(__WEBPACK_IMPORTED_MODULE_2__commons_utils_Utils__[\"c\" /* setSessionStorage */])(__WEBPACK_IMPORTED_MODULE_3__commons_constants_Constants__[\"A\" /* userName */],userData[__WEBPACK_IMPORTED_MODULE_3__commons_constants_Constants__[\"A\" /* userName */]]);//setSessionStorage(userMobile, userData[userMobile]);\n//setSessionStorage(userEmail, userData[userEmail]);\nself.setState({redirect:true});}else{self.setState({errorMessage:responseObj.MESSAGE});}}else{self.setState({errorMessage:\"Something went wrong trying to get data.\"});console.log('Response Status : ',responseStatus);}}).catch(function(ex){self.setState({errorMessage:\"Something went wrong parsing data.\"});console.log('Parsing Failed : ',ex);});}else{self.setState({errorMessage:\"Fields are required.\"});}}},{key:'render',value:function render(){var _this3=this;var _state=this.state,idOrNumber=_state.idOrNumber,password=_state.password,errorMessage=_state.errorMessage,redirect=_state.redirect;if(redirect){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_react_router__[\"a\" /* Redirect */],{to:Object(__WEBPACK_IMPORTED_MODULE_4__commons_utils_basePath__[\"a\" /* default */])(_templateObject)});}return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',null,errorMessage,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('input',{name:'idOrNumber',type:'text',value:idOrNumber,onChange:function onChange(event){return _this3.handleInputChange(event);}}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('input',{name:'password',type:'password',value:password,onChange:function onChange(event){return _this3.handleInputChange(event);}}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('button',{onClick:function onClick(){return _this3.onLoginClick(idOrNumber,password);}},'Login'));}}]);return Login;}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);/* harmony default export */ __webpack_exports__[\"a\"] = (Login);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/2.cbe62553.chunk.js","import Login from './components/Login';\n\nexport const Component = Login;\n\n\n// WEBPACK FOOTER //\n// ./src/modules/login/index.js","/* eslint-env browser */\nmodule.exports = typeof self == 'object' ? self.FormData : window.FormData;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/form-data/lib/browser.js\n// module id = 92\n// module chunks = 0 1 2 3","import 'whatwg-fetch';\n\nconst methodPOST = \"POST\";\n\nconst restPrefix = 'http://localhost/ajpatel/ajpatel-rest/api/';\n\nconst restHeaders = {\n    'Access-Control-Allow-Origin': '*',\n};\n\nexport function login(formData) {\n    return fetch( restPrefix + 'login', {\n        headers: restHeaders,\n        method: methodPOST,\n        body: formData\n      })\n}\n\nexport function adminView(formData) {\n    return fetch( restPrefix + 'admin_view', {\n        headers: restHeaders,\n        method: methodPOST,\n        body: formData\n      })\n}\n\nexport function adminEdit(formData) {\n    return fetch( restPrefix + 'admin_edit', {\n        headers: restHeaders,\n        method: methodPOST,\n        body: formData\n      })\n}\n\nexport function partyList(formData) {\n    return fetch( restPrefix + 'party_list', {\n        headers: restHeaders,\n        method: methodPOST,\n        body: formData\n      })\n}\n\nexport function partyView(formData) {\n    return fetch( restPrefix + 'party_view', {\n        headers: restHeaders,\n        method: methodPOST,\n        body: formData\n      })\n}\n\nexport function partyEdit(formData) {\n    return fetch( restPrefix + 'party_edit', {\n        headers: restHeaders,\n        method: methodPOST,\n        body: formData\n      })\n}\n\n\n// WEBPACK FOOTER //\n// ./src/rest/Rest.js","import React, { Component } from 'react';\nimport { login } from '../../../rest/Rest';\nimport { setSessionStorage,\n  getSessionStorage,\n  clearSessionStorage\n} from '../../../commons/utils/Utils';\nimport { loginEmailMob,\n  loginPassword,\n  userLoginToken,\n  userName\n} from '../../../commons/constants/Constants';\nimport basePath from '../../../commons/utils/basePath';\nimport { Redirect } from 'react-router';\n\nexport default class Login extends Component {\n  \n  constructor(props) {\n    super(props);\n    this.state = {\n      idOrNumber: '',\n      password: '',\n      errorMessage: '',\n      redirect: false,\n      isInputUpdating: false\n    }\n\n    this.onLoginClick = this.onLoginClick.bind(this);\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.clearState = this.clearState.bind(this);\n  }\n\n  componentDidMount() {\n    setTimeout(() => {this.clearState();}, 50);\n    if(getSessionStorage(userLoginToken)) {\n      this.setState({redirect: true});\n    } else {\n      clearSessionStorage();\n    }\n  }\n\n  clearState() {\n    this.setState({idOrNumber: ''});\n    this.setState({password: ''});\n    this.setState({errorMessage: ''});\n    this.setState({redirect: false});\n  }\n\n  handleInputChange(event) {\n    const target = event.target;\n    const value = target.value;\n    const name = target.name;\n\n    this.setState({[name]: value});\n    this.setState({errorMessage: ''});\n  }\n\n  onLoginClick(idOrNumber, password) {\n    const self = this;\n    this.setState({errorMessage: ''});\n    \n    if(idOrNumber && password) {\n      var FormData = require('form-data');\n      var form = new FormData();\n      form.append(loginEmailMob, idOrNumber);\n      form.append(loginPassword, password);      \n\n      let responseStatus;\n      login(form)\n        .then(function(response) {\n          responseStatus = response.status;\n          return response.text();\n        }).then(function(response) {\n\n          if(responseStatus === 200) {\n            let responseObj = JSON.parse(response);\n\n            if(responseObj.SUCCESS === \"TRUE\") {\n              let userData = responseObj.user_data[0];\n\n              setSessionStorage(userLoginToken, userData[userLoginToken]);\n              setSessionStorage(userName, userData[userName]);\n              //setSessionStorage(userMobile, userData[userMobile]);\n              //setSessionStorage(userEmail, userData[userEmail]);\n\n              self.setState({redirect: true});\n            } else {\n              self.setState({errorMessage: responseObj.MESSAGE});  \n            }\n          } else {\n            self.setState({errorMessage: \"Something went wrong trying to get data.\"});\n            console.log('Response Status : ', responseStatus);\n          }\n        }).catch(function(ex) {\n          self.setState({errorMessage: \"Something went wrong parsing data.\"});\n          console.log('Parsing Failed : ', ex);\n        })\n    } else {\n      self.setState({errorMessage: \"Fields are required.\"});\n    }\n  }\n  \n  render() {\n    const { idOrNumber, password, errorMessage, redirect } = this.state;\n\n    if(redirect) {\n      return <Redirect to={basePath``}/>;\n    }\n    \n    return (\n      <div>\n        {errorMessage}\n        <input name=\"idOrNumber\" type=\"text\" value={idOrNumber} onChange={(event) => this.handleInputChange(event)}/>\n        <input name=\"password\" type=\"password\" value={password} onChange={(event) => this.handleInputChange(event)}/>\n        <button onClick={() => this.onLoginClick(idOrNumber, password)}>Login</button>\n      </div>\n    );\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/modules/login/components/Login.js"],"sourceRoot":""}